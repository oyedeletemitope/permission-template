{{define "submit_request.html"}}
<div class="max-w-2xl mx-auto mt-10">
    {{if .flash_messages}}
        {{range .flash_messages}}
            <div id="flash-message" class="mb-4 p-4 rounded-md shadow-sm border-l-4
                         {{if eq .Type "success"}}bg-green-100 border-green-500 text-green-700
                        {{else if eq .Type "error"}}bg-red-100 border-red-500 text-red-700
                        {{else}}bg-blue-100 border-blue-500 text-blue-700{{end}}">
                <strong>{{.Type}}:</strong> {{.Message}}
            </div>
        {{end}}
    {{end}}

    <div class="bg-white rounded-lg shadow-md p-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Submit a New Request</h2>

        <form method="POST" action="/submit-request" class="space-y-6">
            <!-- Request Details -->
            <div>
                <label for="details" class="block text-sm font-medium text-gray-700 mb-1">Request Details</label>
                <textarea
                     name="details"
                     id="details"
                     rows="4"
                     required
                     placeholder="Describe your request in detail..."
                     class="w-full px-4 py-2 text-gray-800 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                ></textarea>
            </div>

            <div>
                <label for="priority" class="block text-sm font-medium text-gray-700 mb-1">Priority</label>
                <select
                     name="priority"
                     id="priority"
                     required
                    class="w-full px-4 py-2 text-gray-800 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                    <option value="low">Low</option>
                    <option value="medium" selected>Medium</option>
                    <option value="high">High</option>
                </select>
            </div>

            <div>
                <button
                     type="submit"
                     class="w-full bg-blue-600 text-white font-medium px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition"
                >
                    Submit Request
                </button>
            </div>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const flashMessage = document.getElementById('flash-message');
    if (flashMessage) {
        setTimeout(function() {
            flashMessage.style.transition = 'opacity 0.5s ease-out';
            flashMessage.style.opacity = '0';
            setTimeout(function() {
                flashMessage.remove();
            }, 500);
        }, 5000);
    }
});
</script>
{{end}}